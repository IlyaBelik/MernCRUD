(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{48:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n(49),r=n.n(s),i=n(7),o=n(8),l=n(10),d=n(9),j=n(13),u=n(2),b=n(12),h=n.n(b),m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onDelete=function(e){h.a.delete("http://localhost:5000/announcements/delete/".concat(e)).then((function(e){alert(e.data.title+"Deleted Successfully"),a.getAnnouncements()}))},a.handleTextSearch=function(e){var t=e.currentTarget.value;h.a.get("http://localhost:5000/announcements").then((function(e){e.data.success&&a.filterContent(e.data.announcements,t)}))},a.state={announcements:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getAnnouncements()}},{key:"getAnnouncements",value:function(){var e=this;h.a.get("http://localhost:5000/announcements").then((function(t){t.data.success&&(e.setState({announcements:t.data.announcements}),console.log(e.state.announcements))}))}},{key:"filterContent",value:function(e,t){var n=e.filter((function(e){return e.title.toLowerCase().includes(t)}));this.setState({announcements:n})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-9 mt-2 mb-2",children:Object(a.jsx)("h4",{children:"All Announcements"})}),Object(a.jsx)("div",{className:"col-lg-3 mt-2 mb-2",children:Object(a.jsx)("input",{className:"form-control",type:"search",placeholder:"Search",name:"searchTerm",onChange:this.handleTextSearch})})]}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"id"}),Object(a.jsx)("th",{scope:"col",children:"Title"}),Object(a.jsx)("th",{scope:"col",children:"Action"})]})}),Object(a.jsx)("tbody",{children:this.state.announcements.map((function(t,n){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:n+1}),Object(a.jsx)("th",{scope:"row",children:t.title}),Object(a.jsxs)("td",{children:[Object(a.jsxs)(j.b,{className:"btn btn-info",to:"/announcements/detail/".concat(t._id),children:[Object(a.jsx)("i",{className:"fas fa-info"})," Details"]}),"\xa0",Object(a.jsxs)(j.b,{className:"btn btn-warning",to:"/edit/".concat(t._id),children:[Object(a.jsx)("i",{className:"fas fa-edit"})," Edit"]}),"\xa0",Object(a.jsxs)("a",{className:"btn btn-danger",onClick:function(){return e.onDelete(t._id)},children:[Object(a.jsx)("i",{className:"far fa-times-circle"})," Delete"]})]})]},"".concat(t,"_").concat(n))}))})]}),Object(a.jsx)(j.b,{to:"/add",children:Object(a.jsx)("button",{className:"btn btn-light",children:"Add New Announcement"})})]})}}]),n}(c.Component),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={announcements:[]},a}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("table",{className:"table table-success table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:Object(a.jsx)("th",{scope:"col",children:"Title"})})}),Object(a.jsx)("tbody",{children:this.state.announcements.map&&this.state.announcements.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("th",{scope:"row",children:e.title})}),Object(a.jsx)("td",{children:Object(a.jsxs)(j.b,{className:"btn btn-info",to:"/announcements/detail/".concat(e._id),children:[Object(a.jsx)("i",{className:"fas fa-info"})," Details"]})})]})}))})]})}}]),n}(c.Component),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={announcements:{}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;h.a.get("http://localhost:5000/announcements/detail/".concat(t)).then((function(t){t.data.success&&(e.setState({announcements:t.data.announcements}),console.log("announcement: ",e.state.announcements))}))}},{key:"render",value:function(){var e=this.state.announcements,t=e.title,n=e.description,c=e.announcementDate;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:t}),Object(a.jsx)("hr",{}),Object(a.jsxs)("dl",{className:"row",children:[Object(a.jsx)("dt",{className:"col-sm-3",children:"Description"}),Object(a.jsx)("dd",{className:"col-sm-9",dangerouslySetInnerHTML:{__html:n}}),Object(a.jsx)("dt",{className:"col-sm-3",children:"Date"}),Object(a.jsx)("dd",{className:"col-sm-9",children:c})]})]}),Object(a.jsx)("h4",{children:"Top 3 similar announcements"}),Object(a.jsx)(p,{})]})}}]),n}(c.Component),x=n(15),f=n(16),v=function(e,t){var n={};return n.title=e?"":"Title is required",n.description=t?"":"Description is required",n},g=n(19),N=n(20),y=n.n(N),k=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e){var t=e.target,n=t.name,c=t.value;a.setState(Object(f.a)(Object(f.a)({},a.state),{},Object(x.a)({},n,c)))},a.validate=function(e,t){var n=v(e,t);return a.setState({errors:n}),Object.values(n).every((function(e){return""===e}))},a.onSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state,c=n.title,s=n.description,r=n.announcementDate;if(a.validate(c,s)){var i={title:c,description:s,announcementDate:r};console.log(i),h.a.put("http://localhost:5000/announcements/update/".concat(t),i).then((function(e){e.data.success&&alert("Announcement has been updated")}))}};var c=new Date;return a.state={title:"",description:"",announcementDate:c,errors:{}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;h.a.get("http://localhost:5000/announcements/detail/".concat(t)).then((function(t){t.data.success&&e.setState({title:t.data.announcements.title,description:t.data.announcements.description})}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("div",{className:"h3 mb-3 font-weight-normal",children:"Edit Announcement"}),Object(a.jsx)("label",{htmlFor:"formGroupExampleInput",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",name:"title",maxLength:"50",placeholder:"Enter your title",value:this.state.title,onChange:this.handleInputChange}),this.state.errors.title&&Object(a.jsx)("div",{className:"text-danger",children:this.state.errors.title})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"formGroupExampleInput2",children:"Description"}),Object(a.jsx)(g.CKEditor,{editor:y.a,data:this.state.description,onChange:function(t,n){var a=n.getData();e.setState({description:a})}}),this.state.errors.description&&Object(a.jsx)("div",{className:"text-danger",children:this.state.errors.description})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.onSubmit,children:"Edit"})]})})}}]),n}(c.Component),D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).handleInputChange=function(e){var t=e.target,n=t.name,c=t.value;a.setState(Object(f.a)(Object(f.a)({},a.state),{},Object(x.a)({},n,c)))},a.validate=function(e,t){var n=v(e,t);return a.setState({errors:n}),Object.values(n).every((function(e){return""===e}))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.title,c=t.description,s=t.announcementDate;if(a.validate(n,c)){var r={title:n,description:c,announcementDate:s};console.log(r),h.a.post("http://localhost:5000/announcements/add",r).then((function(e){e.data.success&&(alert("Added"),a.setState({title:"",description:"",announcementDate:""}))}))}};var c=new Date;return a.state={title:"",description:"",announcementDate:c,errors:{}},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("div",{className:"h3 mb-3 font-weight-normal",children:"Add Announcement"}),Object(a.jsx)("label",{htmlFor:"formGroupExampleInput",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",name:"title",maxLength:"50",placeholder:"Enter your title",value:this.state.title,onChange:this.handleInputChange}),this.state.errors.title&&Object(a.jsx)("div",{className:"text-danger",children:this.state.errors.title})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"formGroupExampleInput2",children:"Description"}),Object(a.jsx)(g.CKEditor,{editor:y.a,data:this.state.description,onChange:function(t,n){var a=n.getData();e.setState({description:a})}}),this.state.errors.description&&Object(a.jsx)("div",{className:"text-danger",children:this.state.errors.description})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.onSubmit,children:"Add"})]})})}}]),n}(c.Component),C=function(){return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:"Test App"}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(j.b,{className:"nav-link active","aria-current":"page",to:"/",children:"All Announcements"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(j.b,{className:"nav-link active","aria-current":"page",to:"/about",children:"Contact"})})]})})]})})},S=(n(48),function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h4",{children:"Contact me: "}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"flexbox",children:[Object(a.jsx)("a",{href:"https://t.me/wozexy",target:"_blank",rel:"noopener noreferrer",type:"media_type",children:Object(a.jsx)("i",{className:"fab fa-telegram fa-4x"})}),"\xa0",Object(a.jsx)("a",{href:"https://github.com/IlyaBelik/crud-test",target:"_blank",rel:"noopener noreferrer",type:"media_type",children:Object(a.jsx)("i",{className:"fab fa-github fa-4x"})}),"\xa0",Object(a.jsx)("a",{href:"#",type:"media_type",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("i",{className:"fab fa-facebook fa-4x"})}),"\xa0",Object(a.jsx)("a",{href:"https://www.linkedin.com/in/ilya-beleykanych-210106202/",type:"media_type",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("i",{className:"fab fa-linkedin-in fa-4x"})})]})]})}),w=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)(j.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(C,{}),Object(a.jsx)(u.a,{path:"/",exact:!0,component:m}),Object(a.jsx)(u.a,{path:"/announcements/detail/:id",exact:!0,component:O}),Object(a.jsx)(u.a,{path:"/edit/:id",component:k}),Object(a.jsx)(u.a,{path:"/add",component:D}),Object(a.jsx)(u.a,{path:"/about",component:S})]})})}}]),n}(c.Component),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(a.jsx)(w,{}),document.getElementById("root")),A()}},[[94,1,2]]]);
//# sourceMappingURL=main.ff57ed12.chunk.js.map